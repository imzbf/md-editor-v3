import{p as l}from"./BN79MvlG.js";var i=Object.defineProperty,E=(e,s,t)=>s in e?i(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,p=(e,s,t)=>E(e,s+"",t);class h{constructor(){p(this,"pools",{})}remove(s,t,o){const n=this.pools[s]&&this.pools[s][t];n&&(this.pools[s][t]=n.filter(a=>a!==o))}clear(s){this.pools[s]={}}on(s,t){return this.pools[s]||(this.pools[s]={}),this.pools[s][t.name]||(this.pools[s][t.name]=[]),this.pools[s][t.name].push(t.callback),this.pools[s][t.name].includes(t.callback)}emit(s,t,...o){this.pools[s]||(this.pools[s]={});const n=this.pools[s][t];n&&n.forEach(a=>{try{a(...o)}catch(r){console.error(`${t} monitor event exception！`,r)}})}}const _=new h,C="onSave",g="changeCatalogVisible",d="changeFullscreen",R="pageFullscreenChanged",A="fullscreenChanged",N="previewChanged",L="previewOnlyChanged",f="htmlPreviewChanged",I="catalogVisibleChanged",m="buildFinished",T="errorCatcher",G="replace",S="uploadImage",b="openModals",D="ctrlZ",H="ctrlShiftZ",O="catalogChanged",w="pushCatalog",P="rerender",V="eventListener",F="taskStateChanged",v="sendEditorView",U="getEditorView",B=(e,s="image.png")=>{const t=e.split(","),o=t[0].match(/:(.*?);/);if(o){const c=o[1],n=atob(t[1]);let a=n.length;const r=new Uint8Array(a);for(;a--;)r[a]=n.charCodeAt(a);return new File([r],s,{type:c})}return null},x=(e,s)=>{if(!e)return e;const t=s.split(`
`),o=['<span rn-wrapper aria-hidden="true">'];return t.forEach(()=>{o.push("<span></span>")}),o.push("</span>"),`<span class="${l}-code-block">${e}</span>${o.join("")}`},W=(e,s)=>{if(!e||!s)return 0;const t=e==null?void 0:e.getBoundingClientRect();if(s===document.documentElement)return t.top-s.clientTop;const o=s==null?void 0:s.getBoundingClientRect();return t.top-o.top},Z=(()=>{let e=0;return()=>++e})();export{m as B,g as C,V as E,A as F,U as G,f as H,b as O,w as P,G as R,v as S,F as T,S as U,C as a,_ as b,H as c,D as d,d as e,T as f,Z as g,B as h,O as i,W as j,P as k,x as l,I as m,L as n,N as o,R as p};
