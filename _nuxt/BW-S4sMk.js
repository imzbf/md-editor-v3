import{p as l}from"./DJRrW2pC.js";var i=Object.defineProperty,p=(e,s,t)=>s in e?i(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,E=(e,s,t)=>p(e,s+"",t);class h{constructor(){E(this,"pools",{})}remove(s,t,o){const n=this.pools[s]&&this.pools[s][t];n&&(this.pools[s][t]=n.filter(a=>a!==o))}clear(s){this.pools[s]={}}on(s,t){return this.pools[s]||(this.pools[s]={}),this.pools[s][t.name]||(this.pools[s][t.name]=[]),this.pools[s][t.name].push(t.callback),this.pools[s][t.name].includes(t.callback)}emit(s,t,...o){this.pools[s]||(this.pools[s]={});const n=this.pools[s][t];n&&n.forEach(a=>{try{a(...o)}catch(r){console.error(`${t} monitor event exception！`,r)}})}}const C=new h,_="onSave",g="changeCatalogVisible",d="changeFullscreen",A="pageFullscreenChanged",R="fullscreenChanged",L="previewChanged",N="previewOnlyChanged",f="htmlPreviewChanged",m="catalogVisibleChanged",I="buildFinished",T="errorCatcher",b="replace",G="uploadImage",H="openModals",S="ctrlZ",D="ctrlShiftZ",O="catalogChanged",P="pushCatalog",F="rerender",w="eventListener",v="taskStateChanged",V=(e,s="image.png")=>{const t=e.split(","),o=t[0].match(/:(.*?);/);if(o){const c=o[1],n=atob(t[1]);let a=n.length;const r=new Uint8Array(a);for(;a--;)r[a]=n.charCodeAt(a);return new File([r],s,{type:c})}return null},U=(e,s)=>{if(!e)return e;const t=s.split(`
`),o=['<span rn-wrapper aria-hidden="true">'];return t.forEach(()=>{o.push("<span></span>")}),o.push("</span>"),`<span class="${l}-code-block">${e}</span>${o.join("")}`},B=(e,s)=>{if(!e||!s)return 0;const t=e==null?void 0:e.getBoundingClientRect();if(s===document.documentElement)return t.top-s.clientTop;const o=s==null?void 0:s.getBoundingClientRect();return t.top-o.top},x=(()=>{let e=0;return()=>++e})();export{I as B,d as C,T as E,R as F,f as H,H as O,P,b as R,v as T,G as U,g as a,C as b,_ as c,D as d,S as e,w as f,x as g,V as h,O as i,B as j,A as k,L as l,N as m,m as n,U as o,F as p};
