import{aw as k,ax as A,ay as C,r as _,A as v,e as E,y as M,s as F,n as $,as as w,S as z,K as H,D as q,o as B}from"./DJRrW2pC.js";import{u as O}from"./CELZ-iun.js";function R(t,e){const o=e/t*100;return 2/Math.PI*100*Math.atan(o/50)}function K(t={}){const{duration:e=2e3,throttle:o=200,hideDelay:r=500,resetDelay:u=400}=t,l=t.estimatedProgress||R,s=k(),n=_(0),i=_(!1),m=_(!1);let p=!1,h,I,y,x;const T=()=>{m.value=!1,N(0)};function N(a=0){if(!s.isHydrating){if(a>=100)return c();d(),n.value=a<0?0:a,o?I=setTimeout(()=>{i.value=!0,D()},o):(i.value=!0,D())}}function P(){y=setTimeout(()=>{i.value=!1,x=setTimeout(()=>{n.value=0},u)},r)}function c(a={}){n.value=100,p=!0,d(),L(),a.error&&(m.value=!0),a.force?(n.value=0,i.value=!1):P()}function L(){clearTimeout(y),clearTimeout(x)}function d(){clearTimeout(I),cancelAnimationFrame(h)}function D(){p=!1;let a;function g(f){if(p)return;a??(a=f);const b=f-a;n.value=Math.max(0,Math.min(100,l(e,b))),h=requestAnimationFrame(g)}h=requestAnimationFrame(g)}let S=()=>{};{const a=s.hook("page:loading:start",()=>{T()}),g=s.hook("page:loading:end",()=>{c()}),f=s.hook("vue:error",()=>c());S=()=>{f(),a(),g(),d()}}return{_cleanup:S,progress:v(()=>n.value),isLoading:v(()=>i.value),error:v(()=>m.value),start:T,set:N,finish:c,clear:d}}function U(t={}){const e=k(),o=e._loadingIndicator=e._loadingIndicator||K(t);return A()&&(e._loadingIndicatorDeps=e._loadingIndicatorDeps||0,e._loadingIndicatorDeps++,C(()=>{e._loadingIndicatorDeps--,e._loadingIndicatorDeps===0&&(o._cleanup(),delete e._loadingIndicator)})),o}const W=E({name:"NuxtLoadingIndicator",props:{throttle:{type:Number,default:200},duration:{type:Number,default:2e3},height:{type:Number,default:3},color:{type:[String,Boolean],default:"repeating-linear-gradient(to right,#00dc82 0%,#34cdfe 50%,#0047e1 100%)"},errorColor:{type:String,default:"repeating-linear-gradient(to right,#f87171 0%,#ef4444 100%)"},estimatedProgress:{type:Function,required:!1}},setup(t,{slots:e,expose:o}){const{progress:r,isLoading:u,error:l,start:s,finish:n,clear:i}=U({duration:t.duration,throttle:t.throttle,estimatedProgress:t.estimatedProgress});return o({progress:r,isLoading:u,error:l,start:s,finish:n,clear:i}),()=>M("div",{class:"nuxt-loading-indicator",style:{position:"fixed",top:0,right:0,left:0,pointerEvents:"none",width:"auto",height:`${t.height}px`,opacity:u.value?1:0,background:l.value?t.errorColor:t.color||void 0,backgroundSize:`${100/r.value*100}% auto`,transform:`scaleX(${r.value}%)`,transformOrigin:"left",transition:"transform 0.1s, height 0.4s, opacity 0.4s",zIndex:999999}},e)}}),j=E({__name:"index",setup(t){return O({title:`Redirect - ${z}`,meta:[{name:"keywords",content:H},{name:"description",content:q}]}),F(async()=>{await $(`/${navigator.language==="zh-CN"?"zh-CN":"en-US"}`)}),(e,o)=>{const r=W;return B(),w(r)}}});export{j as default};
