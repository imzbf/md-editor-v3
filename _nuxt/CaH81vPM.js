import{p as i}from"#entry";const h="onSave",u="changeCatalogVisible",g="changeFullscreen",d="pageFullscreenChanged",m="fullscreenChanged",C="previewChanged",f="previewOnlyChanged",w="htmlPreviewChanged",b="catalogVisibleChanged",v="buildFinished",$="errorCatcher",E="replace",F="uploadImage",V="ctrlZ",k="ctrlShiftZ",y="catalogChanged",S="pushCatalog",A="rerender",R="eventListener",x="taskStateChanged",B="sendEditorView",I="getEditorView";class c{pools={};remove(e,t,n){const r=this.pools[e]&&this.pools[e][t];r&&(this.pools[e][t]=r.filter(s=>s!==n))}clear(e){this.pools[e]={}}on(e,t){return this.pools[e]||(this.pools[e]={}),this.pools[e][t.name]||(this.pools[e][t.name]=[]),this.pools[e][t.name].push(t.callback),this.pools[e][t.name].includes(t.callback)}emit(e,t,...n){this.pools[e]||(this.pools[e]={});const r=this.pools[e][t];r&&r.forEach(s=>{try{s(...n)}catch(a){console.error(`${t} monitor event exceptionï¼`,a)}})}}const L=new c,O=(o,e="image.png")=>{const t=o.split(","),n=t[0].match(/:(.*?);/);if(n){const r=n[1],s=atob(t[1]);let a=s.length;const l=new Uint8Array(a);for(;a--;)l[a]=s.charCodeAt(a);return new File([l],e,{type:r})}return null},T=(o,e)=>{if(!o)return o;const t=e.split(`
`),n=['<span rn-wrapper aria-hidden="true">'];return t.forEach(()=>{n.push("<span></span>")}),n.push("</span>"),`<span class="${i}-code-block">${o}</span>${n.join("")}`},Z=(o,e)=>{if(!o||!e)return 0;const t=o?.getBoundingClientRect();if(e===document.documentElement)return t.top-e.clientTop;const n=e?.getBoundingClientRect();return t.top-n.top},j=(()=>{let o=0;return()=>++o})();export{C as A,u as C,A as D,L as F,E as G,S as H,F as I,v as L,$ as N,x as O,f as R,y as S,V as T,R as V,d as _,O as a,b,k as d,I as f,Z as g,g as h,h as i,T as l,j as m,w as p,m as r,B as u};
